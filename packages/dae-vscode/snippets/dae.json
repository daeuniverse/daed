{
  "Global Section": {
    "prefix": "global",
    "body": [
      "global {",
      "  tproxy_port: ${1:12345}",
      "  log_level: ${2|info,debug,warn,error,trace|}",
      "  tcp_check_url: '${3:http://cp.cloudflare.com}'",
      "  udp_check_dns: '${4:dns.google:53}'",
      "  check_interval: ${5:30s}",
      "  dial_mode: ${6|domain,ip,domain+,domain++|}",
      "  wan_interface: ${7:auto}",
      "  auto_config_kernel_parameter: ${8|true,false|}",
      "  ${0}",
      "}"
    ],
    "description": "Create a global configuration section"
  },
  "Subscription Section": {
    "prefix": "subscription",
    "body": ["subscription {", "  ${1:my_sub}: '${2:https://example.com/subscription}'", "  ${0}", "}"],
    "description": "Create a subscription section"
  },
  "Node Section": {
    "prefix": "node",
    "body": ["node {", "  ${1:mynode}: '${2:ss://...}'", "  ${0}", "}"],
    "description": "Create a node section"
  },
  "DNS Section": {
    "prefix": "dns",
    "body": [
      "dns {",
      "  upstream {",
      "    ${1:alidns}: 'udp://dns.alidns.com:53'",
      "    ${2:googledns}: 'tcp+udp://dns.google:53'",
      "  }",
      "  routing {",
      "    request {",
      "      qname(geosite:cn) -> ${3:alidns}",
      "      fallback: ${4:googledns}",
      "    }",
      "  }",
      "}"
    ],
    "description": "Create a DNS configuration section"
  },
  "Group Section": {
    "prefix": "group",
    "body": [
      "group {",
      "  ${1:my_group} {",
      "    policy: ${2|min_moving_avg,min,min_avg10,random,fixed(0)|}",
      "    ${0}",
      "  }",
      "}"
    ],
    "description": "Create a group section"
  },
  "Group Definition": {
    "prefix": "group-def",
    "body": [
      "${1:my_group} {",
      "  filter: ${2:subtag(my_sub)}",
      "  policy: ${3|min_moving_avg,min,min_avg10,random,fixed(0)|}",
      "  ${0}",
      "}"
    ],
    "description": "Create a group definition"
  },
  "Routing Section": {
    "prefix": "routing",
    "body": [
      "routing {",
      "  #Direct local traffic",
      "  dip(geoip:private) -> direct",
      "  ",
      "  #Direct China traffic",
      "  domain(geosite:cn) -> direct",
      "  dip(geoip:cn) -> direct",
      "  ",
      "  #Block ads",
      "  domain(geosite:category-ads-all) -> block",
      "  ",
      "  fallback: ${1:proxy}",
      "}"
    ],
    "description": "Create a routing section"
  },
  "Fallback Declaration": {
    "prefix": "fallback",
    "body": ["fallback: ${1|proxy,direct,block|}"],
    "description": "Fallback outbound declaration"
  },
  "Filter by Subtag": {
    "prefix": "filter-subtag",
    "body": ["filter: subtag(${1:my_sub})"],
    "description": "Filter nodes by subscription tag"
  },
  "Filter by Name": {
    "prefix": "filter-name",
    "body": ["filter: name(${1|keyword,regex|}: '${2:pattern}')"],
    "description": "Filter nodes by name pattern"
  },
  "Policy Min Moving Avg": {
    "prefix": "policy",
    "body": ["policy: ${1|min_moving_avg,min,min_avg10,random,fixed(0)|}"],
    "description": "Group policy declaration"
  },
  "Domain Rule": {
    "prefix": "rule-domain",
    "body": ["domain(${1:domain}) -> ${2|proxy,direct,block|}"],
    "description": "Create a domain matching rule"
  },
  "IP Rule": {
    "prefix": "rule-ip",
    "body": ["dip(${1:ip}) -> ${2|proxy,direct,block|}"],
    "description": "Create an IP matching rule"
  },
  "Geosite Rule": {
    "prefix": "rule-geosite",
    "body": ["domain(geosite:${1:cn}) -> ${2|direct,proxy,block|}"],
    "description": "Create a geosite matching rule"
  },
  "Geoip Rule": {
    "prefix": "rule-geoip",
    "body": ["dip(geoip:${1:cn}) -> ${2|direct,proxy,block|}"],
    "description": "Create a geoip matching rule"
  },
  "Process Rule": {
    "prefix": "rule-process",
    "body": ["pname(${1:process}) -> ${2|proxy,direct,block|}"],
    "description": "Create a process matching rule"
  },
  "Port Rule": {
    "prefix": "rule-port",
    "body": ["dport(${1:port}) -> ${2|proxy,direct,block|}"],
    "description": "Create a port matching rule"
  },
  "Destination IP": {
    "prefix": "dip",
    "body": ["dip(${1:ip})"],
    "description": "Match destination IP address"
  },
  "Destination Port": {
    "prefix": "dport",
    "body": ["dport(${1:port})"],
    "description": "Match destination port"
  },
  "Source IP": {
    "prefix": "sip",
    "body": ["sip(${1:ip})"],
    "description": "Match source IP address"
  },
  "Source Port": {
    "prefix": "sport",
    "body": ["sport(${1:port})"],
    "description": "Match source port"
  },
  "Process Name": {
    "prefix": "pname",
    "body": ["pname(${1:name})"],
    "description": "Match process name"
  },
  "Query Name": {
    "prefix": "qname",
    "body": ["qname(${1:domain})"],
    "description": "Match DNS query name"
  },
  "Domain Function": {
    "prefix": "domain",
    "body": ["domain(${1:domain})"],
    "description": "Match domain (suffix match)"
  },
  "L4 Protocol": {
    "prefix": "l4proto",
    "body": ["l4proto(${1|tcp,udp|})"],
    "description": "Match Layer 4 protocol"
  },
  "IP Version": {
    "prefix": "ipversion",
    "body": ["ipversion(${1|4,6|})"],
    "description": "Match IP version"
  },
  "Geosite": {
    "prefix": "geosite",
    "body": ["geosite:${1:tag}"],
    "description": "Match using geosite database"
  },
  "Geoip": {
    "prefix": "geoip",
    "body": ["geoip:${1:tag}"],
    "description": "Match using geoip database"
  },
  "Full Match": {
    "prefix": "full",
    "body": ["full:${1:domain}"],
    "description": "Full domain match"
  },
  "Contains": {
    "prefix": "contains",
    "body": ["contains:${1:keyword}"],
    "description": "Domain contains keyword"
  },
  "Regexp": {
    "prefix": "regexp",
    "body": ["regexp:${1:pattern}"],
    "description": "Match using regular expression"
  },
  "Complete dae Example": {
    "prefix": "dae-example",
    "body": [
      "global {",
      "  tproxy_port: 12345",
      "  log_level: info",
      "  tcp_check_url: 'http://cp.cloudflare.com,1.1.1.1,2606:4700:4700::1111'",
      "  udp_check_dns: 'dns.google:53,8.8.8.8,2001:4860:4860::8888'",
      "  check_interval: 30s",
      "  dial_mode: domain",
      "  wan_interface: auto",
      "  auto_config_kernel_parameter: true",
      "}",
      "",
      "subscription {",
      "  my_sub: 'https://example.com/subscription'",
      "}",
      "",
      "node {",
      "  #Add your node links here",
      "}",
      "",
      "dns {",
      "  upstream {",
      "    alidns: 'udp://dns.alidns.com:53'",
      "    googledns: 'tcp+udp://dns.google:53'",
      "  }",
      "  routing {",
      "    request {",
      "      qname(geosite:cn) -> alidns",
      "      fallback: googledns",
      "    }",
      "  }",
      "}",
      "",
      "group {",
      "  proxy {",
      "    policy: min_moving_avg",
      "  }",
      "}",
      "",
      "routing {",
      "  pname(NetworkManager) -> direct",
      "  dip(224.0.0.0/3, 'ff00::/8') -> direct",
      "  dip(geoip:private) -> direct",
      "  ",
      "  domain(geosite:cn) -> direct",
      "  dip(geoip:cn) -> direct",
      "  ",
      "  domain(geosite:category-ads-all) -> block",
      "  ",
      "  fallback: proxy",
      "}"
    ],
    "description": "Create a complete dae configuration example"
  }
}
